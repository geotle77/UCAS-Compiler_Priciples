## 练习4.3.1:
**对于文法 S → SS+ | S* | a ，指出下列最右句型归约时使用的句柄**

    一个句柄是指在最右句型（right-sentential form）中最左边的最简子结构，它对应于某个产生式的右部。从左到右，优先考虑最右边的含有非终结符的子串，如果没有非终结符则考虑最左边的终结符子串。

结果如下：
 
1.aa*a++a+

该句型的句柄为最左边的终结符a

2.SSa*+

该句型的句柄为a

3.SS*+

句柄为S*

## 练习4.3.2：
**对于文法S → S S + | S * | a**

1.**增广该文法，构成SLR项目集和状态转化图。**

增广文法：
    
    S'-> S
    S -> S S + | S* | a**

SLR项目集：

${I_0}$:

    S' -> .S
    S  -> .SS+ 
    S  -> .S*
    S  -> .a**

${I_1}$:

    S' -> S.
    S  -> S.S+
    S  -> S.*
    S  -> .a**

${I_2}$:

    S -> a.**


${I_3}$:

    S -> SS.+

${I_4}$:

    S -> S*.

${I_5}$:

    S -> a*.*

${I_6}$:

    S -> a**.

${I_7}$:

    S -> SS+.

状态转换图如下：
![example1](../pics/homework7_1.png)


2.计算这些项目集的GTO函数，给出这个文法的语法分析表

GOTO函数如下：

    GOTO(I0，S) = I1
    GOTO(I0，a) = I2
    GOTO(I1，S) = I3
    GOTO(I1，*) = I4
    GOTO(I1，a) = I2
    GOTO(I3，+) = I7
    GOTO(I2，*) = I5
    GOTO(I5，*) = I6


对产生式进行编号：

   ```
   1. S'->S
   2. S → SS+ 
   3. S → S*
   4. S → a**
   ```

   语法分析表


   | 状态 | ACTION | -    | -    | -    | GOTO |
   | ---- | ------ | ---- | ---- | ---- | ---- |
   |      | a      | +    | *    | $    | S    |
   | 0    | s2     |      |      |      | 1    |
   | 1    | s2 |      |  s4  | acc  |  3 |
   | 2    |      |    |  s5  |    |      |
   | 3    |      | s7 |    |  |      |
   | 4    |  r3  |   r3   |  r3    |  r3    |      |
   | 5    |      |      |      | s6    | |
   | 6    | r4   |  r4  |   r4 |  r4 | |
   | 7    | r2   |  r2  |   r2 |  r2 | |

3.这个文法是不是SLR文法？为什么？

构造语法分析表时无冲突，所以该文法是SLR文法。


## 练习4.3.3
**对于文法S → S S + | S * | a**

1.构造规范 LR 项目集和状态转化图

规范LR项目集：

${I_0}$:

    S' -> .S , $
    S  -> .SS+ , $/a/*
    S  -> .S* , $/a/*
    S  -> .a** , $/a/*

${I_0}$时, X=S ：

${I_1}$:

    S' -> S. , $
    S  -> S.S+ , $/a/*
    S  -> .SS+ , +/a/*
    S  -> .S* , +/a/*
    S  -> .a** , +/a/*
    S  -> S.* , $/a/*

${I_0}$时, X=a ：

${I_2}$:

    S -> a.** , $/a/*

${I_1}$时, X=S:

${I_3}$:

    S -> SS.+ , $/a/*
    S  -> S.S+ , +/a/*
    S  -> .SS+ , +/a/*
    S  -> .S* , +/a/*
    S  -> .a** , +/a/*
    S  -> S.* , +/a/*

${I_1}$时, X=a:

${I_4}$:

    S -> a.** , +/a/*

${I_2}$时, X=*:

${I_5}$:

    S -> a*.* , $/a/*

${I_5}$时, X=*:

${I_6}$:

    S -> a**. , $/a/*
${I_3}$时, X=+:

${I_7}$:

    S -> SS+. , $/a/*

${I_1}$时, X=*:

${I_8}$:

    S  -> S*. , $/a/*

${I_3}$时, X=*:

${I_{10}}$:

    S  -> S*. , +/a/*

${I_3}$时, X=S:

${I_9}$:

    S  -> SS.+ , +/a/*
    S  -> S.S+ , +/a/*
    S  -> S.* , +/a/*
    S  -> .SS+ , +/a/*
    S  -> .S* , +/a/*
    S  -> .a** , +/a/*

${I_{4}}$时, X=*:

${I_{11}}$:

    S  -> a*.* , +/a/*

${I_{11}}$时, X=*:

${I_{12}}$:

    S  -> a**. , +/a/*

${I_{13}}$:

    S -> SS+. , +/a/*


![example2](../pics/homework7_2.png)

1. 构建语法分析表

对产生式进行编号：

   ```
   1. S'->S
   2. S → SS+ 
   3. S → S*
   4. S → a**
   ```

   语法分析表


   | 状态 | ACTION | -    | -    | -    | GOTO |
   | ---- | ------ | ---- | ---- | ---- | ---- |
   |      | a      | +    | *    | $    | S    |
   | 0    | s2     |      |      |      | 1    |
   | 1    | s4 |      |  s8  | acc  |  3 |
   | 2    |      |    |  s5  |    |      |
   | 3    |  s4    | s7 |  s10  |  |    9  |
   | 4    |    |      |   s11   |      |      |
   | 5    |      |      |      | s6    | |
   | 6    | r4   |    |   r4 |  r4 | |
   | 7    | r2   |    |   r2 |  r2 | |
   | 8    | r3   |      |   r3   |   r3   |     |
   | 9    | s4 |   S13   |  s10  |   |  9 |
   | 10    |  r3    |  r3  |  r3  |    |     |
   | 11    |      |  |  s12  |  |     |
   | 12    |   r4 |  r4    |  r4    |      |      |
   | 13    |   r3   |  r3    |   r3   |     | |

1. 构建 LALR 项目集族

${I_0}$:

    S' -> .S , $
    S  -> .SS+ , $/a/*
    S  -> .S* , $/a/*
    S  -> .a** , $/a/*

${I_1}$:

    S' -> S. , $
    S  -> S.S+ , $/a/*
    S  -> .SS+ , +/a/*
    S  -> .S* , +/a/*
    S  -> .a** , +/a/*
    S  -> S.* , $/a/*

${I_{24}}$:

    S -> a.** , $/+/a/*

${I_{39}}$:

    S -> SS.+ , $/+/a/*
    S  -> S.S+ , +/a/*
    S  -> .SS+ , +/a/*
    S  -> .S* , +/a/*
    S  -> .a** , +/a/*
    S  -> S.* , +/a/*

${I_{511}}$:

    S -> a*.* , $/+/a/*


${I_{612}}$:

    S -> a**. , $/+/a/*

${I_{713}}$:

    S -> SS+. , $/+/a/*

${I_{810}}$:

    S  -> S*. , $/+/a/*
